.\" Manpage for ziggydb
.TH ZIGGYDB 1 "November 2025" "ZiggyDB v1.0.0" "User Commands"
.SH NAME
ziggydb \- interactive key-value database shell written in Zig

.SH SYNOPSIS
.B ziggydb
.RI [ options ]
.br
Launches an interactive shell to run database commands.

.SH DESCRIPTION
ZiggyDB is a lightweight, durable key-value data store based on a 
Write-Ahead Log. It supports string, integer, float, boolean, 
binary, and bitmap values, lists, bitfields, and transactions.

The shell can import/export JSON data and run as a TCP server.

.SH COMMANDS
Available commands in the shell:

.TP
.B SET key value [EXP seconds] [TYPE type]
Store a key-value pair. Optionally set expiry and type.

.TP
.B GET key
Retrieve the value of
.I key
if it exists.

.TP
.B DEL key
Delete the key-value pair.

.TP
.B LPUSH key value [value ...]
Push one or more values to the beginning of a list.

.TP
.B LPOP key
Remove and return the first element of the list.

.TP
.B LRANGE key start stop
Return a range of list elements.

.TP
.B SETBIT key offset value
Set or clear a bit at the given offset.

.TP
.B GETBIT key offset
Get the bit value at offset.

.TP
.B BITFIELD key [SET|GET ...]
Manipulate arbitrary bitfields.

.TP
.B BEGIN
Start a transaction.

.TP
.B COMMIT
Commit the current transaction.

.TP
.B ROLLBACK
Cancel all changes in the current transaction.

.TP
.B IMPORTJSON <string>
Import JSON data into the database.

.TP
.B EXPORTJSON
Export current state to data.json file.

.TP
.B SERVE [port]
Start ZiggyDB as a TCP server (default port 8080).

.TP
.B EXIT
Quit the shell.

.SH FILES
.TP
.I ~/.ziggydb/
Default directory for log and data files.

.TP
.I data.json
JSON output generated by EXPORTJSON.

.SH ENVIRONMENT
.TP
.B ZIGGYDB_WAL
Overrides the WAL log file path.

.SH EXAMPLES
.nf
$ ziggydb
ziggy> SET name "Deondre"
OK
ziggy> EXPORTJSON
ziggy> EXIT
$ cat data.json
{
  "map": { "name": { "value": "Deondre", "expiry_unix_s": null } },
  "lists": {}
}
.fi

.SH AUTHOR
Written by Deondre English.

.SH REPORTING BUGS
Submit issues at https://github.com/deondreenglish/ziggydb

.SH SEE ALSO
.BR zig (1),
.BR json (5)